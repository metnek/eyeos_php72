var SlimeyInsertAction,SlimeyEditContentAction,SlimeyEditStyleAction,SlimeyDeleteAction,SlimeyMoveAction,SlimeyResizeAction,SlimeySendToBackAction,SlimeyBringToFrontAction,SlimeyChangeSlideAction,SlimeyInsertSlideAction,SlimeyDeleteSlideAction,SlimeyMoveSlideAction,SlimeyAction=function(e,t){this.name=e,this.slimey=t};SlimeyAction.prototype.getName=function(){return this.name},SlimeyAction.prototype.perform=function(){},SlimeyAction.prototype.undo=function(){},SlimeyInsertAction=function(e,t){SlimeyAction.call(this,"insert",e);var n=this.slimey.editor.getContainer().ownerDocument.createElement(t);n.slimey=this.slimey,n.className="slimeyElement",n.style.position="absolute",n.style.left="40%",n.style.top="30%",n.style.lineHeight="1.",n.style.cursor="move",n.style.fontFamily="sans-serif",n.style.fontSize="160%",n.style.margin="0px",n.style.padding="0px",n.style.border="0px",n.style.zIndex=1e4,n.tagName=="DIV"?(n.style.left="5%",n.style.top="15%",n.style.width="90%",n.style.height="10%",n.innerHTML=lang("some text"),n.style.textAlign="center",n.resizable=!0,n.editable=!0):n.tagName=="IMG"?(n.style.width="20%",n.style.height="20%",n.resizable=!0,n.title=lang("drag the bottom right corner to resize")):(n.tagName=="UL"?n.innerHTML="<li>"+lang("some text")+"</li>":n.tagName=="OL"?n.innerHTML="<li>"+lang("some text")+"</li>":n.innerHTML=lang("some text"),n.editable=!0,n.title=lang("double click to edit content")),setEventHandler(n,"mousedown",slimeyDrag),setEventHandler(n,"click",slimeyClick),setEventHandler(n,"dblclick",slimeyEdit),setEventHandler(n,"mouseover",slimeyHighlight),setEventHandler(n,"mouseout",slimeyLowshadow),this.element=n},SlimeyInsertAction.prototype=new SlimeyAction,SlimeyInsertAction.prototype.getElement=function(){return this.element},SlimeyInsertAction.prototype.perform=function(){this.slimey.editor.getContainer().appendChild(this.element)},SlimeyInsertAction.prototype.undo=function(){var e;this.slimey.editor.getContainer().removeChild(this.element),e=this.slimey.editor.getSelected(),e==this.element&&this.slimey.editor.deselect()},SlimeyEditContentAction=function(e,t,n){SlimeyAction.call(this,"editContent",e),n?this.element=n:this.element=this.slimey.editor.getSelected(),this.content=t},SlimeyEditContentAction.prototype=new SlimeyAction,SlimeyEditContentAction.prototype.perform=function(){this.previousContent=this.element.innerHTML,this.element.innerHTML=this.content},SlimeyEditContentAction.prototype.undo=function(){this.element.innerHTML=this.previousContent},SlimeyEditStyleAction=function(e,t,n){SlimeyAction.call(this,"editStyle",e),this.element=this.slimey.editor.getSelected(),this.property=t,this.value=n},SlimeyEditStyleAction.prototype=new SlimeyAction,SlimeyEditStyleAction.prototype.perform=function(){this.previousValue=this.element.style[this.property],this.element.style[this.property]=this.value},SlimeyEditStyleAction.prototype.undo=function(){this.element.style[this.property]=this.previousValue},SlimeyDeleteAction=function(e){SlimeyAction.call(this,"delete",e);var t=this.slimey.editor.getSelected();this.element=t},SlimeyDeleteAction.prototype=new SlimeyAction,SlimeyDeleteAction.prototype.perform=function(){this.slimey.editor.getContainer().removeChild(this.element),this.slimey.editor.deselect()},SlimeyDeleteAction.prototype.undo=function(){this.slimey.editor.getContainer().appendChild(this.element)},SlimeyMoveAction=function(e,t,n,r,i){SlimeyAction.call(this,"move",e);var s=this.slimey.editor.getSelected();this.newx=t,this.newy=n,r?this.oldx=r:this.oldx=s.style.left,i?this.oldy=i:this.oldy=s.style.top,this.element=s},SlimeyMoveAction.prototype=new SlimeyAction,SlimeyMoveAction.prototype.perform=function(){this.element.style.left=this.newx,this.element.style.top=this.newy},SlimeyMoveAction.prototype.undo=function(){this.element.style.left=this.oldx,this.element.style.top=this.oldy},SlimeyResizeAction=function(e,t,n,r,i){SlimeyAction.call(this,"resize",e);var s=this.slimey.editor.getSelected();this.neww=t,this.newh=n,r?this.oldw=r:this.oldw=s.style.width,i?this.oldh=i:this.oldh=s.style.height,this.element=s},SlimeyResizeAction.prototype=new SlimeyAction,SlimeyResizeAction.prototype.perform=function(){this.element.style.width=this.neww,this.element.style.height=this.newh},SlimeyResizeAction.prototype.undo=function(){this.element.style.width=this.oldw,this.element.style.height=this.oldh},SlimeySendToBackAction=function(e){SlimeyAction.call(this,"sendToBack",e);var t=this.slimey.editor.getSelected();this.element=t},SlimeySendToBackAction.prototype=new SlimeyAction,SlimeySendToBackAction.prototype.perform=function(){var e,t=1e8;for(e=this.slimey.editor.getContainer().firstChild;e;e=e.nextSibling)e.nodeType==1&&(thisZ=parseInt(e.style.zIndex),thisZ<t&&(t=thisZ));this.oldZ=this.element.style.zIndex,this.element.style.zIndex=t-1},SlimeySendToBackAction.prototype.undo=function(){this.element.style.zIndex=this.oldZ},SlimeyBringToFrontAction=function(e){SlimeyAction.call(this,"bringToFront",e);var t=this.slimey.editor.getSelected();this.element=t},SlimeyBringToFrontAction.prototype=new SlimeyAction,SlimeyBringToFrontAction.prototype.perform=function(){var e,t=0;for(e=this.slimey.editor.getContainer().firstChild;e;e=e.nextSibling)e.nodeType==1&&(thisZ=parseInt(e.style.zIndex),thisZ>t&&(t=thisZ));this.oldZ=this.element.style.zIndex,this.element.style.zIndex=t+1},SlimeyBringToFrontAction.prototype.undo=function(){this.element.style.zIndex=this.oldZ},SlimeyChangeSlideAction=function(e,t){SlimeyAction.call(this,"changeSlide",e),this.num=t},SlimeyChangeSlideAction.prototype=new SlimeyAction,SlimeyChangeSlideAction.prototype.perform=function(){this.previousSlide=this.slimey.navigation.currentSlide,this.slimey.navigation.getSlide(this.num)},SlimeyChangeSlideAction.prototype.undo=function(){this.slimey.navigation.getSlide(this.previousSlide)},SlimeyInsertSlideAction=function(e,t){SlimeyAction.call(this,"insertSlide",e),this.num=t},SlimeyInsertSlideAction.prototype=new SlimeyAction,SlimeyInsertSlideAction.prototype.perform=function(){this.slimey.navigation.insertNewSlide(this.num)},SlimeyInsertSlideAction.prototype.undo=function(){this.slimey.navigation.deleteSlide(this.num)},SlimeyDeleteSlideAction=function(e,t){SlimeyAction.call(this,"deleteSlide",e),this.num=t},SlimeyDeleteSlideAction.prototype=new SlimeyAction,SlimeyDeleteSlideAction.prototype.perform=function(){this.html=this.slimey.editor.getHTML(),this.dom=document.createElement("div"),this.slimey.editor.getDOM(this.dom),this.slimey.navigation.deleteSlide(this.num)},SlimeyDeleteSlideAction.prototype.undo=function(){this.slimey.navigation.insertNewSlide(this.num,this.html,this.dom)},SlimeyMoveSlideAction=function(e,t,n){SlimeyAction.call(this,"moveSlide",e),this.from=t,this.to=n},SlimeyMoveSlideAction.prototype=new SlimeyAction,SlimeyMoveSlideAction.prototype.perform=function(){this.slimey.navigation.moveSlide(this.from,this.to)},SlimeyMoveSlideAction.prototype.undo=function(){this.slimey.navigation.moveSlide(this.to,this.from)};