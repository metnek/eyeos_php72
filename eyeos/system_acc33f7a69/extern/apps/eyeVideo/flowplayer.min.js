(function(){function r(e){console.log("$f.fireEvent",[].slice.call(e))}function i(e){var t,n;if(!e||typeof e!="object")return e;t=new e.constructor;for(n in e)e.hasOwnProperty(n)&&(t[n]=i(e[n]));return t}function s(e,t){var n,r,i,s;if(!e)return;r=0,i=e.length;if(i===undefined){for(n in e)if(t.call(e[n],n,e[n])===!1)break}else for(s=e[0];r<i&&t.call(s,r,s)!==!1;s=e[++r]);return e}function o(e){return document.getElementById(e)}function u(e,t,n){return typeof t!="object"?e:(e&&t&&s(t,function(t,r){if(!n||typeof r!="function")e[t]=r}),e)}function a(e){var t,n,r,i=e.indexOf(".");if(i!=-1)return t=e.slice(0,i)||"*",n=e.slice(i+1,e.length),r=[],s(document.getElementsByTagName(t),function(){this.className&&this.className.indexOf(n)!=-1&&r.push(this)}),r}function f(e){return e=e||window.event,e.preventDefault?(e.stopPropagation(),e.preventDefault()):(e.returnValue=!1,e.cancelBubble=!0),!1}function l(e,t,n){e[t]=e[t]||[],e[t].push(n)}function c(){return"_"+(""+Math.random()).slice(2,10)}function h(a,h,p){function _(){function i(e){return/iPad|iPhone|iPod/i.test(navigator.userAgent)&&!/.flv$/i.test(A[0].url)&&!o()?!0:(!N.isLoaded()&&N._fireEvent("onBeforeClick")!==!1&&N.load(),f(e))}function o(){return N.hasiPadSupport&&N.hasiPadSupport()}function u(){d.replace(/\s/g,"")!==""?a.addEventListener?a.addEventListener("click",i,!1):a.attachEvent&&a.attachEvent("onclick",i):(a.addEventListener&&!o()&&a.addEventListener("click",f,!1),N.load())}var r;$f(a)?($f(a).getParent().innerHTML="",w=$f(a).getIndex(),n[w]=N):(n.push(N),w=n.length-1),x=parseInt(a.style.height,10)||a.clientHeight,y=a.id||"fp"+c(),b=h.id||y+"_api",h.id=b,d=a.innerHTML,typeof p=="string"&&(p={clip:{url:p}}),p.playerId=y,p.clip=p.clip||{},a.getAttribute("href",2)&&!p.clip.url&&(p.clip.url=a.getAttribute("href",2)),v=new e(p.clip,-1,N),p.playlist=p.playlist||[p.clip],r=0,s(p.playlist,function(){var t=this;typeof t=="object"&&t.length&&(t={url:""+t}),s(p.clip,function(e,n){n!==undefined&&t[e]===undefined&&typeof n!="function"&&(t[e]=n)}),p.playlist[r]=t,t=new e(t,r,N),A.push(t),r++}),s(p,function(e,t){typeof t=="function"&&(v[e]?v[e](t):l(M,e,t),delete p[e])}),s(p.plugins,function(e,n){n&&(O[e]=new t(e,n,N))});if(!p.plugins||p.plugins.controls===undefined)O.controls=new t("controls",null,N);O.canvas=new t("canvas",null,N),d=a.innerHTML,setTimeout(u,0)}var d,v,y,b,w,E,S,x,T,N=this,C=null,L=!1,A=[],O={},M={};u(N,{id:function(){return y},isLoaded:function(){return C!==null&&C.fp_play!==undefined&&!L},getParent:function(){return a},hide:function(e){return e&&(a.style.height="0px"),N.isLoaded()&&(C.style.height="0px"),N},show:function(){return a.style.height=x+"px",N.isLoaded()&&(C.style.height=S+"px"),N},isHidden:function(){return N.isLoaded()&&parseInt(C.style.height,10)===0},load:function(e){var t,r;return!N.isLoaded()&&N._fireEvent("onBeforeLoad")!==!1&&(t=function(){d&&!flashembed.isSupported(h.version)&&(a.innerHTML=""),e&&(e.cached=!0,l(M,"onLoad",e)),flashembed(a,h,{config:p})},r=0,s(n,function(){this.unload(function(){++r==n.length&&t()})})),N},unload:function(e){var t;if(d.replace(/\s/g,"")!==""){if(N._fireEvent("onBeforeUnload")===!1)return e&&e(!1),N;L=!0;try{C&&(C.fp_close(),N._fireEvent("onUnload"))}catch(n){}t=function(){C=null,a.innerHTML=d,L=!1,e&&e(!0)},/WebKit/i.test(navigator.userAgent)&&!/Chrome/i.test(navigator.userAgent)?setTimeout(t,0):t()}else e&&e(!1);return N},getClip:function(e){return e===undefined&&(e=E),A[e]},getCommonClip:function(){return v},getPlaylist:function(){return A},getPlugin:function(e){var n,r=O[e];return!r&&N.isLoaded()&&(n=N._api().fp_getPlugin(e),n&&(r=new t(e,n,N),O[e]=r)),r},getScreen:function(){return N.getPlugin("screen")},getControls:function(){return N.getPlugin("controls")._fireEvent("onUpdate")},getLogo:function(){try{return N.getPlugin("logo")._fireEvent("onUpdate")}catch(e){}},getPlay:function(){return N.getPlugin("play")._fireEvent("onUpdate")},getConfig:function(e){return e?i(p):p},getFlashParams:function(){return h},loadPlugin:function(e,n,r,i){var s,o,u;return typeof r=="function"&&(i=r,r={}),s=i?c():"_",N._api().fp_loadPlugin(e,n,r,s),o={},o[s]=i,u=new t(e,null,N,o),O[e]=u,u},getState:function(){return N.isLoaded()?C.fp_getState():-1},play:function(e,t){var n=function(){e!==undefined?N._api().fp_play(e,t):N._api().fp_play()};return N.isLoaded()?n():L?setTimeout(function(){N.play(e,t)},50):N.load(function(){n()}),N},getVersion:function(){var e,t="flowplayer.js 3.2.9";return N.isLoaded()?(e=C.fp_getVersion(),e.push(t),e):t},_api:function(){if(!N.isLoaded())throw"Flowplayer "+N.id()+" not loaded when calling an API method";return C},setClip:function(e){return s(e,function(t,n){typeof n=="function"?(l(M,t,n),delete e[t]):t=="onCuepoint"&&$f(a).getCommonClip().onCuepoint(e[t][0],e[t][1])}),N.setPlaylist([e]),N},getIndex:function(){return w},bufferAnimate:function(e){return C.fp_bufferAnimate(e===undefined||e),N},_swfHeight:function(){return C.clientHeight}}),s("Click*,Load*,Unload*,Keypress*,Volume*,Mute*,Unmute*,PlaylistReplace,ClipAdd,Fullscreen*,FullscreenExit,Error,MouseOver,MouseOut".split(","),function(){var e,t="on"+this;t.indexOf("*")!=-1&&(t=t.slice(0,t.length-1),e="onBefore"+t.slice(2),N[e]=function(t){return l(M,e,t),N}),N[t]=function(e){return l(M,t,e),N}}),s("pause,resume,mute,unmute,stop,toggle,seek,getStatus,getVolume,setVolume,getTime,isPaused,isPlaying,startBuffering,stopBuffering,isFullscreen,toggleFullscreen,reset,close,setPlaylist,addClip,playFeed,setKeyboardShortcutsEnabled,isKeyboardShortcutsEnabled".split(","),function(){var e=this;N[e]=function(t,n){var r;return N.isLoaded()?(r=null,t!==undefined&&n!==undefined?r=C["fp_"+e](t,n):r=t===undefined?C["fp_"+e]():C["fp_"+e](t),r==="undefined"||r===undefined?N:r):N}}),N._fireEvent=function(t){var n,i,u,a,f,l,c,h,d,y;typeof t=="string"&&(t=[t]),n=t[0],i=t[1],u=t[2],a=t[3],f=0,p.debug&&r(t),!N.isLoaded()&&n=="onLoad"&&i=="player"&&(C=C||o(b),S=N._swfHeight(),s(A,function(){this._fireEvent("onLoad")}),s(O,function(e,t){t._fireEvent("onUpdate")}),v._fireEvent("onLoad"));if(n=="onLoad"&&i!="player")return;n=="onError"&&(typeof i=="string"||typeof i=="number"&&typeof u=="number")&&(i=u,u=a);if(n=="onContextMenu"){s(p.contextMenu[i],function(e,t){t.call(N)});return}if(n=="onPluginEvent"||n=="onBeforePluginEvent"){l=i.name||i,c=O[l];if(c)return c._fireEvent("onUpdate",i),c._fireEvent(u,t.slice(3));return}n=="onPlaylistReplace"&&(A=[],h=0,s(i,function(){A.push(new e(this,h++,N))}));if(n=="onClipAdd"){if(i.isInStream)return;i=new e(i,u,N),A.splice(u,0,i);for(f=u+1;f<A.length;f++)A[f].index++}d=!0;if(typeof i=="number"&&i<A.length){E=i,y=A[i],y&&(d=y._fireEvent(n,u,a));if(!y||d!==!1)d=v._fireEvent(n,u,a,y)}return s(M[n],function(){d=this.call(N,i,u),this.cached&&M[n].splice(f,1);if(d===!1)return!1;f++}),d};if(typeof a=="string"){T=o(a);if(!T)throw"Flowplayer cannot access element: "+a;a=T,_()}else _()}function p(e){var t;this.length=e.length,this.each=function(t){s(e,t)},this.size=function(){return e.length},t=this;for(name in h.prototype)t[name]=function(){var e=arguments;t.each(function(){this[name].apply(this,e)})}}var e,t,n;e=function(e,t,n){var r=this,i={},o={};r.index=t,typeof e=="string"&&(e={url:e}),u(this,e,!0),s("Begin*,Start,Pause*,Resume*,Seek*,Stop*,Finish*,LastSecond,Update,BufferFull,BufferEmpty,BufferStop".split(","),function(){var e="on"+this;if(e.indexOf("*")!=-1){e=e.slice(0,e.length-1);var i="onBefore"+e.slice(2);r[i]=function(e){return l(o,i,e),r}}r[e]=function(t){return l(o,e,t),r},t==-1&&(r[i]&&(n[i]=r[i]),r[e]&&(n[e]=r[e]))}),u(this,{onCuepoint:function(e,s){if(arguments.length==1)return i.embedded=[null,e],r;typeof e=="number"&&(e=[e]);var o=c();return i[o]=[e,s],n.isLoaded()&&n._api().fp_addCuepoints(e,t,o),r},update:function(e){u(r,e),n.isLoaded()&&n._api().fp_updateClip(e,t);var i=n.getConfig(),s=t==-1?i.clip:i.playlist[t];u(s,e,!0)},_fireEvent:function(e,a,f,l){if(e=="onLoad")return s(i,function(e,r){r[0]&&n._api().fp_addCuepoints(r[0],t,e)}),!1;l=l||r;if(e=="onCuepoint"){var c=i[a];if(c)return c[1].call(n,l,f)}a&&"onBeforeBegin,onMetaData,onStart,onUpdate,onResume".indexOf(e)!=-1&&(u(l,a),a.metaData&&(l.duration?l.fullDuration=a.metaData.duration:l.duration=a.metaData.duration));var h=!0;return s(o[e],function(){h=this.call(n,l,a,f)}),h}});if(e.onCuepoint){var a=e.onCuepoint;r.onCuepoint.apply(r,typeof a=="function"?[a]:a),delete e.onCuepoint}s(e,function(t,n){typeof n=="function"&&(l(o,t,n),delete e[t])}),t==-1&&(n.onCuepoint=this.onCuepoint)},t=function(e,t,n,r){var i=this,o={},a=!1;r&&u(o,r),s(t,function(e,n){typeof n=="function"&&(o[e]=n,delete t[e])}),u(this,{animate:function(r,s,u){if(!r)return i;typeof s=="function"&&(u=s,s=500);if(typeof r=="string"){var a=r;r={},r[a]=s,s=500}if(u){var f=c();o[f]=u}return s===undefined&&(s=500),t=n._api().fp_animate(e,r,s,f),i},css:function(r,s){if(s!==undefined){var o={};o[r]=s,r=o}return t=n._api().fp_css(e,r),u(i,t),i},show:function(){return this.display="block",n._api().fp_showPlugin(e),i},hide:function(){return this.display="none",n._api().fp_hidePlugin(e),i},toggle:function(){return this.display=n._api().fp_togglePlugin(e),i},fadeTo:function(t,r,s){typeof r=="function"&&(s=r,r=500);if(s){var u=c();o[u]=s}return this.display=n._api().fp_fadeTo(e,t,r,u),this.opacity=t,i},fadeIn:function(e,t){return i.fadeTo(1,e,t)},fadeOut:function(e,t){return i.fadeTo(0,e,t)},getName:function(){return e},getPlayer:function(){return n},_fireEvent:function(t,r,f){if(t=="onUpdate"){var l=n._api().fp_getPlugin(e);if(!l)return;u(i,l),delete i.methods,a||(s(l.methods,function(){var t=""+this;i[t]=function(){var r=[].slice.call(arguments),s=n._api().fp_invoke(e,t,r);return s==="undefined"||s===undefined?i:s}}),a=!0)}var c=o[t];if(c){var h=c.apply(i,r);return t.slice(0,1)=="_"&&delete o[t],h}return i}})},n=[],window.flowplayer=window.$f=function(){var e,t,r,f,l=null,c=arguments[0];if(!arguments.length)return s(n,function(){if(this.isLoaded())return l=this,!1}),l||n[0];if(arguments.length==1)return typeof c=="number"?n[c]:c=="*"?new p(n):(s(n,function(){if(this.id()==c.id||this.id()==c||this.getParent()==c)return l=this,!1}),l);if(arguments.length>1){e=arguments[1],t=arguments.length==3?arguments[2]:{},typeof e=="string"&&(e={src:e}),e=u({bgcolor:"#000000",version:[9,0],expressInstall:"http://static.flowplayer.org/swf/expressinstall.swf",cachebusting:!1},e);if(typeof c=="string")return c.indexOf(".")!=-1?(r=[],s(a(c),function(){r.push(new h(this,i(e),i(t)))}),new p(r)):(f=o(c),new h(f!==null?f:i(c),i(e),i(t)));if(c)return new h(c,i(e),i(t))}return null},u(window.$f,{fireEvent:function(){var e=[].slice.call(arguments),t=$f(e[0]);return t?t._fireEvent(e.slice(1)):null},addPlugin:function(e,t){return h.prototype[e]=t,$f},each:s,extend:u}),typeof jQuery=="function"&&(jQuery.fn.flowplayer=function(e,t){var n;return!arguments.length||typeof arguments[0]=="number"?(n=[],this.each(function(){var e=$f(this);e&&n.push(e)}),arguments.length?n[arguments[0]]:new p(n)):this.each(function(){$f(this,i(e),t?i(t):{})})})})(),function(){function u(e,t){var n;if(t)for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a(e,t){var n,r=[];for(n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n]));return r}function f(i,s,o){var a;e.isSupported(s.version)?i.innerHTML=e.getHTML(s,o):s.expressInstall&&e.isSupported([6,65])?i.innerHTML=e.getHTML(u(s,{src:s.expressInstall}),{MMredirectURL:encodeURIComponent(location.href),MMplayerType:"PlugIn",MMdoctitle:document.title}):(i.innerHTML.replace(/\s/g,"")||(i.innerHTML="<h2>Flash version "+s.version+" or greater is required</h2><h3>"+(t[0]>0?"Your version is "+t:"You have no flash plugin installed")+"</h3>"+(i.tagName=="A"?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+r+"'>here</a></p>"),i.tagName=="A"&&(i.onclick=function(){location.href=r})),s.onFail&&(a=s.onFail.call(this),typeof a=="string"&&(i.innerHTML=a))),n&&(window[s.id]=document.getElementById(s.id)),u(this,{getRoot:function(){return i},getOptions:function(){return s},getConf:function(){return o},getApi:function(){return i.firstChild}})}var e,t,n=document.all,r="http://www.adobe.com/go/getflashplayer",i=typeof jQuery=="function",s=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,o={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:!0,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:!1,cachebusting:!1};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){}}),window.flashembed=function(e,t,n){typeof e=="string"&&(e=document.getElementById(e.replace("#","")));if(!e)return;return typeof t=="string"&&(t={src:t}),new f(e,u(u({},o),t),n)},e=u(window.flashembed,{conf:o,getVersion:function(){var e,t;try{t=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(n){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),t=e&&e.GetVariable("$version")}catch(r){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),t=e&&e.GetVariable("$version")}catch(i){}}}return t=s.exec(t),t?[t[1],t[3]]:[0,0]},asString:function(t){if(t===null||t===undefined)return null;var n=typeof t;n=="object"&&t.push&&(n="array");switch(n){case"string":return t=t.replace(RegExp('(["\\\\])',"g"),"\\$1"),t=t.replace(/^\s?(\d+\.?\d*)%/,"$1pct"),'"'+t+'"';case"array":return"["+a(t,function(t){return e.asString(t)}).join(",")+"]";case"function":return'"function()"';case"object":var r=[];for(var i in t)t.hasOwnProperty(i)&&r.push('"'+i+'":'+e.asString(t[i]));return"{"+r.join(",")+"}"}return(t+"").replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(t,r){t=u({},t);var i='<object width="'+t.width+'" height="'+t.height+'" id="'+t.id+'" name="'+t.id+'"';t.cachebusting&&(t.src+=(t.src.indexOf("?")!=-1?"&":"?")+Math.random()),t.w3c||!n?i+=' data="'+t.src+'" type="application/x-shockwave-flash"':i+=' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"',i+=">";if(t.w3c||n)i+='<param name="movie" value="'+t.src+'" />';t.width=t.height=t.id=t.w3c=t.src=null,t.onFail=t.version=t.expressInstall=null;for(var s in t)t[s]&&(i+='<param name="'+s+'" value="'+t[s]+'" />');var o="";if(r){for(var a in r)if(r[a]){var f=r[a];o+=a+"="+(/function|object/.test(typeof f)?e.asString(f):f)+"&"}o=o.slice(0,-1),i+='<param name="flashvars" value=\''+o+"' />"}return i+="</object>",i},isSupported:function(e){return t[0]>e[0]||t[0]==e[0]&&t[1]>=e[1]}}),t=e.getVersion(),i&&(jQuery.tools=jQuery.tools||{version:"3.2.9"},jQuery.tools.flashembed={conf:o},jQuery.fn.flashembed=function(e,t){return this.each(function(){$(this).data("flashembed",flashembed(this,e,t))})})}();