function MCTabs(){this.settings=[],this.onChange=tinyMCEPopup.editor.windowManager.createInstance("tinymce.util.Dispatcher")}var mcTabs;MCTabs.prototype.init=function(e){this.settings=e},MCTabs.prototype.getParam=function(e,t){var n=null;return n=typeof this.settings[e]=="undefined"?t:this.settings[e],n=="true"||n=="false"?n=="true":n},MCTabs.prototype.showTab=function(e){e.className="current",e.setAttribute("aria-selected",!0),e.setAttribute("aria-expanded",!0),e.tabIndex=0},MCTabs.prototype.hideTab=function(e){var t=this;e.className="",e.setAttribute("aria-selected",!1),e.setAttribute("aria-expanded",!1),e.tabIndex=-1},MCTabs.prototype.showPanel=function(e){e.className="current",e.setAttribute("aria-hidden",!1)},MCTabs.prototype.hidePanel=function(e){e.className="panel",e.setAttribute("aria-hidden",!0)},MCTabs.prototype.getPanelForTab=function(e){return tinyMCEPopup.dom.getAttrib(e,"aria-controls")},MCTabs.prototype.displayTab=function(e,t,n){var r,i,s,o,u,a,f=this,l=document.getElementById(e);t===undefined&&(t=f.getPanelForTab(l)),r=document.getElementById(t),i=r?r.parentNode:null,s=l?l.parentNode:null,o=f.getParam("selection_class","current");if(l&&s){u=s.childNodes;for(a=0;a<u.length;a++)u[a].nodeName=="LI"&&f.hideTab(u[a]);f.showTab(l)}if(r&&i){u=i.childNodes;for(a=0;a<u.length;a++)u[a].nodeName=="DIV"&&f.hidePanel(u[a]);n||l.focus(),f.showPanel(r)}},MCTabs.prototype.getAnchor=function(){var e,t=document.location.href;return(e=t.lastIndexOf("#"))!=-1?t.substring(e+1):""},mcTabs=new MCTabs,tinyMCEPopup.onInit.add(function(){var e=tinyMCEPopup.getWin().tinymce,t=tinyMCEPopup.dom,n=e.each;n(t.select("div.tabs"),function(r){var i,s,o;t.setAttrib(r,"role","tablist"),s=tinyMCEPopup.dom.select("li",r),o=function(e){mcTabs.displayTab(e,mcTabs.getPanelForTab(e)),mcTabs.onChange.dispatch(e)},n(s,function(e){t.setAttrib(e,"role","tab"),t.bind(e,"click",function(){o(e.id)})}),t.bind(t.getRoot(),"keydown",function(t){t.keyCode===9&&t.ctrlKey&&!t.altKey&&(i.moveFocus(t.shiftKey?-1:1),e.dom.Event.cancel(t))}),n(t.select("a",r),function(e){t.setAttrib(e,"tabindex","-1")}),i=tinyMCEPopup.editor.windowManager.createInstance("tinymce.ui.KeyboardNavigation",{root:r,items:s,onAction:o,actOnFocus:!0,enableLeftRight:!0,enableUpDown:!0},tinyMCEPopup.dom)})});