(function(e){function n(t,n){function zt(e){return function(t){return!this._t||!this._t._a?(this._t&&this._t.sID?i._wD(u+"ignoring "+t.type+": "+this._t.sID):i._wD(u+"ignoring "+t.type),null):e.call(this,t)}}var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt,yt,bt,wt,Et,St,xt,Tt,Nt,Ct,kt,Lt,At,Ot,Mt,_t,Dt,Pt,Ht,Bt,jt,Ft,It,qt,Rt,Ut;this.flashVersion=8,this.debugMode=!0,this.debugFlash=!1,this.useConsole=!0,this.consoleOnly=!1,this.waitForWindowLoad=!1,this.bgColor="#ffffff",this.useHighPerformance=!1,this.flashPollingInterval=null,this.flashLoadTimeout=1e3,this.wmode=null,this.allowScriptAccess="always",this.useFlashBlock=!1,this.useHTML5Audio=!0,this.html5Test=/^(probably|maybe)$/i,navigator.appName=="Microsoft Internet Explorer"?this.preferFlash=!0:this.preferFlash=!1,this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.defaultOptions={autoLoad:!1,stream:!0,autoPlay:!1,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.movieID="sm2-container",this.id=n||"sm2movie",this.swfCSS={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20110918",this.version=null,this.movieURL=null,this.url=t||null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.o=null,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.specialWmodeCase=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.hasHTML5=typeof Audio!="undefined"&&typeof (new Audio).canPlayType!="undefined",this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1,i=this,s="soundManager",o=s+"::",u="HTML5::",f=navigator.userAgent,l=e,c=l.location.href+"",h=document,m=[],g=!0,b=!1,w=!1,E=!1,S=!1,x=!1,N=0,W=["log","info","warn","error"],X=8,K=null,Q=null,st=!1,ot=!1,ft=null,yt=Array.prototype.slice,bt=!1,Nt=f.match(/(ipad|iphone|ipod)/i),Ct=f.match(/(mobile|pre\/|xoom)/i)||Nt,kt=f.match(/msie/i),Lt=f.match(/webkit/i),At=f.match(/safari/i)&&!f.match(/chrome/i),Ot=f.match(/opera/i),Mt=!c.match(/usehtml5audio/i)&&!c.match(/sm2\-ignorebadua/i)&&At&&f.match(/OS X 10_6_([3-7])/i),_t=typeof console!="undefined"&&typeof console.log!="undefined",Dt=typeof h.hasFocus!="undefined"?h.hasFocus():null,Pt=At&&typeof h.hasFocus=="undefined",Ht=!Pt,Bt=/(mp3|mp4|mpa)/i,jt="about:blank",Ft=h.location?h.location.protocol.match(/http/i):null,It=Ft?"":"http://",qt=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|mp4v|3gp|3g2)\s*(?:$|;)/i,Rt=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","mp4v","3gp","3g2"],Ut=RegExp("\\.("+Rt.join("|")+")(\\?.*)?$","i"),this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Ft,this._global_a=null,Ct&&(i.useHTML5Audio=!0,i.preferFlash=!1,Nt&&(i.ignoreFlash=!0,bt=!0)),this.ok=function(){return ft?E&&!S:i.useHTML5Audio&&i.hasHTML5},this.supported=this.ok,this.getMovie=function(e){return a(e)||h[e]||l[e]},this.createSound=function(e){function a(){return n=tt(n),i.sounds[u.id]=new r(u),i.soundIDs.push(u.id),i.sounds[u.id]}var t=s+".createSound(): ",n=null,o=null,u=null;return!E||!i.ok()?(rt(t+G(E?"notOK":"notReady")),!1):(arguments.length===2&&(e={id:arguments[0],url:arguments[1]}),n=k(e),u=n,(u.id+"").charAt(0).match(/^[0-9]$/)&&i._wD(t+G("badID",u.id),2),i._wD(t+u.id+" ("+u.url+")",1),it(u.id,!0)?(i._wD(t+u.id+" exists",1),i.sounds[u.id]):(ct(u)?(o=a(),i._wD("Loading sound "+u.id+" via HTML5"),o._setup_html5(u)):(v>8&&(u.isMovieStar===null&&(u.isMovieStar=u.serverURL||(u.type?u.type.match(qt):!1)||u.url.match(Ut)),u.isMovieStar&&i._wD(t+"using MovieStar handling"),u.isMovieStar&&(u.usePeakData&&(T("noPeak"),u.usePeakData=!1),u.loops>1&&T("noNSLoop"))),u=nt(u,t),o=a(),v===8?i.o._createSound(u.id,u.loops||1,u.usePolicyFile):(i.o._createSound(u.id,u.url,u.usePeakData,u.useWaveformData,u.useEQData,u.isMovieStar,u.isMovieStar?u.bufferTime:!1,u.loops||1,u.serverURL,u.duration||null,u.autoPlay,!0,u.autoLoad,u.usePolicyFile),u.serverURL||(o.connected=!0,u.onconnect&&u.onconnect.apply(o))),!u.serverURL&&(u.autoLoad||u.autoPlay)&&o.load(u)),!u.serverURL&&u.autoPlay&&o.play(),o))},this.destroySound=function(e,t){var n,r;if(!it(e))return!1;n=i.sounds[e],n._iO={},n.stop(),n.unload();for(r=0;r<i.soundIDs.length;r++)if(i.soundIDs[r]===e){i.soundIDs.splice(r,1);break}return t||n.destruct(!0),n=null,delete i.sounds[e],!0},this.load=function(e,t){return it(e)?i.sounds[e].load(t):!1},this.unload=function(e){return it(e)?i.sounds[e].unload():!1},this.onposition=function(e,t,n,r){return it(e)?i.sounds[e].onposition(t,n,r):!1},this.play=function(e,t){var n=s+".play(): ";return!E||!i.ok()?(rt(n+G(E?"notOK":"notReady")),!1):it(e)?i.sounds[e].play(t):(t instanceof Object||(t={url:t}),t&&t.url?(i._wD(n+'attempting to create "'+e+'"',1),t.id=e,i.createSound(t).play()):!1)},this.start=this.play,this.setPosition=function(e,t){return it(e)?i.sounds[e].setPosition(t):!1},this.stop=function(e){return it(e)?(i._wD(s+".stop("+e+")",1),i.sounds[e].stop()):!1},this.stopAll=function(){var e;i._wD(s+".stopAll()",1);for(e in i.sounds)i.sounds.hasOwnProperty(e)&&i.sounds[e].stop()},this.pause=function(e){return it(e)?i.sounds[e].pause():!1},this.pauseAll=function(){var e;for(e=i.soundIDs.length;e--;)i.sounds[i.soundIDs[e]].pause()},this.resume=function(e){return it(e)?i.sounds[e].resume():!1},this.resumeAll=function(){var e;for(e=i.soundIDs.length;e--;)i.sounds[i.soundIDs[e]].resume()},this.togglePause=function(e){return it(e)?i.sounds[e].togglePause():!1},this.setPan=function(e,t){return it(e)?i.sounds[e].setPan(t):!1},this.setVolume=function(e,t){return it(e)?i.sounds[e].setVolume(t):!1},this.mute=function(e){var t=s+".mute(): ",n=0;typeof e!="string"&&(e=null);if(!e){i._wD(t+"Muting all sounds");for(n=i.soundIDs.length;n--;)i.sounds[i.soundIDs[n]].mute();return i.muted=!0,!0}return it(e)?(i._wD(t+'Muting "'+e+'"'),i.sounds[e].mute()):!1},this.muteAll=function(){i.mute()},this.unmute=function(e){var t,n=s+".unmute(): ";typeof e!="string"&&(e=null);if(!e){i._wD(n+"Unmuting all sounds");for(t=i.soundIDs.length;t--;)i.sounds[i.soundIDs[t]].unmute();return i.muted=!1,!0}return it(e)?(i._wD(n+'Unmuting "'+e+'"'),i.sounds[e].unmute()):!1},this.unmuteAll=function(){i.unmute()},this.toggleMute=function(e){return it(e)?i.sounds[e].toggleMute():!1},this.getMemoryUse=function(){var e=0;return i.o&&v!==8&&(e=parseInt(i.o._getMemoryUse(),10)),e},this.disable=function(e){var t;typeof e=="undefined"&&(e=!1);if(S)return!1;S=!0,T("shutdown",1);for(t=i.soundIDs.length;t--;)V(i.sounds[i.soundIDs[t]]);return C(e),gt.remove(l,"load",O),!0},this.canPlayMIME=function(e){var t;return i.hasHTML5&&(t=ht({type:e})),!ft||t?t:e?!!((v>8?e.match(qt):null)||e.match(i.mimePattern)):null},this.canPlayURL=function(e){var t;return i.hasHTML5&&(t=ht({url:e})),!ft||t?t:e?!!e.match(i.filePattern):null},this.canPlayLink=function(e){return typeof e.type!="undefined"&&e.type&&i.canPlayMIME(e.type)?!0:i.canPlayURL(e.href)},this.getSoundById=function(e,t){var n;if(!e)throw Error(s+".getSoundById(): sID is null/undefined");return n=i.sounds[e],!n&&!t&&i._wD('"'+e+'" is an invalid sound ID.',2),n},this.onready=function(e,t){var n="onready";if(e&&e instanceof Function)return E&&i._wD(G("queue",n)),t||(t=l),L(n,e,t),A(),!0;throw G("needFunction",n)},this.ontimeout=function(e,t){var n="ontimeout";if(e&&e instanceof Function)return E&&i._wD(G("queue",n)),t||(t=l),L(n,e,t),A({type:n}),!0;throw G("needFunction",n)},this._writeDebug=function(e,t,n){var r,s,o,u="soundmanager-debug";if(!i.debugMode)return!1;typeof n!="undefined"&&n&&(e=e+" | "+(new Date).getTime());if(_t&&i.useConsole){o=W[t],typeof console[o]!="undefined"?console[o](e):console.log(e);if(i.useConsoleOnly)return!0}try{r=a(u);if(!r)return!1;s=h.createElement("div"),++N%2===0&&(s.className="sm2-alt"),typeof t=="undefined"?t=0:t=parseInt(t,10),s.appendChild(h.createTextNode(e)),t&&(t>=2&&(s.style.fontWeight="bold"),t===3&&(s.style.color="#ff3333")),r.insertBefore(s,r.firstChild)}catch(f){}return r=null,!0},this._wD=this._writeDebug,this._debug=function(){var e,t;T("currentObj",1);for(e=0,t=i.soundIDs.length;e<t;e++)i.sounds[i.soundIDs[e]]._debug()},this.reboot=function(){var e,t;i._wD(s+".reboot()"),i.soundIDs.length&&i._wD("Destroying "+i.soundIDs.length+" SMSound objects...");for(e=i.soundIDs.length;e--;)i.sounds[i.soundIDs[e]].destruct();try{kt&&(Q=i.o.innerHTML),K=i.o.parentNode.removeChild(i.o),i._wD("Flash movie removed.")}catch(n){T("badRemove",2)}Q=K=ft=null,i.enabled=F=E=st=ot=b=w=S=i.swfLoaded=!1,i.soundIDs=i.sounds=[],i.o=null;for(e in m)if(m.hasOwnProperty(e))for(t=m[e].length;t--;)m[e][t].fired=!1;i._wD(s+": Rebooting..."),l.setTimeout(i.beginDelayedInit,20)},this.getMoviePercent=function(){return i.o&&typeof i.o.PercentLoaded!="undefined"?i.o.PercentLoaded():null},this.beginDelayedInit=function(){x=!0,j(),setTimeout(function(){return ot?!1:(q(),B(),ot=!0,!0)},20),M()},this.destruct=function(){i._wD(s+".destruct()"),i.disable(!0)},r=function(e){var t,n,r,s=this;this.sID=e.id,this.url=e.url,this.options=k(e),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this._lastURL=null,this.isHTML5=!1,this._a=null,this.id3={},this._debug=function(){var e,t,n,r,o;if(i.debugMode){e=null,t=[],o=64;for(e in s.options)s.options[e]!==null&&(s.options[e]instanceof Function?(n=s.options[e]+"",n=n.replace(/\s\s+/g," "),r=n.indexOf("{"),t.push(" "+e+": {"+n.substr(r+1,Math.min(Math.max(n.indexOf("\n")-1,o),o)).replace(/\n/g,"")+"... }")):t.push(" "+e+": "+s.options[e]));i._wD("SMSound() merged options: {\n"+t.join(", \n")+"\n}")}},this._debug(),this.load=function(e){var t=null;typeof e!="undefined"?(s._iO=k(e,s.options),s.instanceOptions=s._iO):(e=s.options,s._iO=e,s.instanceOptions=s._iO,s._lastURL&&s._lastURL!==s.url&&(T("manURL"),s._iO.url=s.url,s.url=null)),s._iO.url||(s._iO.url=s.url),i._wD("SMSound.load(): "+s._iO.url,1);if(s._iO.url===s.url&&s.readyState!==0&&s.readyState!==2)return T("onURL",1),s;s._lastURL=s.url,s.loaded=!1,s.readyState=1,s.playState=0;if(ct(s._iO))t=s._setup_html5(s._iO),t._called_load?i._wD(u+"ignoring request to load again: "+s.sID):(i._wD(u+"load: "+s.sID),s._html5_canplay=!1,t.load(),t._called_load=!0,s._iO.autoPlay&&s.play());else try{s.isHTML5=!1,s._iO=nt(tt(s._iO)),v===8?i.o._load(s.sID,s._iO.url,s._iO.stream,s._iO.autoPlay,s._iO.whileloading?1:0,s._iO.loops||1,s._iO.usePolicyFile):i.o._load(s.sID,s._iO.url,!!s._iO.stream,!!s._iO.autoPlay,s._iO.loops||1,!!s._iO.autoLoad,s._iO.usePolicyFile)}catch(n){T("smError",2),y("onload",!1),R({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}return s},this.unload=function(){return s.readyState!==0&&(i._wD('SMSound.unload(): "'+s.sID+'"'),s.isHTML5?(n(),s._a&&(s._a.pause(),dt(s._a))):v===8?i.o._unload(s.sID,jt):i.o._unload(s.sID),t()),s},this.destruct=function(e){i._wD('SMSound.destruct(): "'+s.sID+'"'),s.isHTML5?(n(),s._a&&(s._a.pause(),dt(s._a),bt||s._remove_html5_events(),s._a._t=null,s._a=null)):(s._iO.onfailure=null,i.o._destroySound(s.sID)),e||i.destroySound(s.sID,!0)},this.play=function(e,t){var n,o,u="SMSound.play(): ";t=t===undefined?!0:t,e||(e={}),s._iO=k(e,s._iO),s._iO=k(s._iO,s.options),s.instanceOptions=s._iO;if(s._iO.serverURL&&!s.connected)return s.getAutoPlay()||(i._wD(u+" Netstream not connected yet - setting autoPlay"),s.setAutoPlay(!0)),s;ct(s._iO)&&(s._setup_html5(s._iO),r());if(s.playState===1&&!s.paused){n=s._iO.multiShot;if(!n)return i._wD(u+'"'+s.sID+'" already playing (one-shot)',1),s;i._wD(u+'"'+s.sID+'" already playing (multi-shot)',1)}if(!s.loaded)if(s.readyState===0)i._wD(u+'Attempting to load "'+s.sID+'"',1),s.isHTML5||(s._iO.autoPlay=!0),s.load(s._iO);else{if(s.readyState===2)return i._wD(u+'Could not load "'+s.sID+'" - exiting',2),s;i._wD(u+'"'+s.sID+'" is loading - attempting to play..',1)}else i._wD(u+'"'+s.sID+'"');return!s.isHTML5&&v===9&&s.position>0&&s.position===s.duration&&(i._wD(u+'"'+s.sID+'": Sound at end, resetting to position:0'),s._iO.position=0),s.paused&&s.position&&s.position>0?(i._wD(u+'"'+s.sID+'" is resuming from paused state',1),s.resume()):(i._wD(u+'"'+s.sID+'" is starting to play'),s.playState=1,s.paused=!1,(!s.instanceCount||s._iO.multiShotEvents||!s.isHTML5&&v>8&&!s.getAutoPlay())&&s.instanceCount++,s.position=typeof s._iO.position!="undefined"&&!isNaN(s._iO.position)?s._iO.position:0,s.isHTML5||(s._iO=nt(tt(s._iO))),s._iO.onplay&&t&&(s._iO.onplay.apply(s),s._onplay_called=!0),s.setVolume(s._iO.volume,!0),s.setPan(s._iO.pan,!0),s.isHTML5?(r(),o=s._setup_html5(),s.setPosition(s._iO.position),o.play()):i.o._start(s.sID,s._iO.loops||1,v===9?s._iO.position:s._iO.position/1e3)),s},this.start=this.play,this.stop=function(e){return s.playState===1&&(s._onbufferchange(0),s.resetOnPosition(0),s.paused=!1,s.isHTML5||(s.playState=0),s._iO.onstop&&s._iO.onstop.apply(s),s.isHTML5?s._a&&(s.setPosition(0),s._a.pause(),s.playState=0,s._onTimer(),n()):(i.o._stop(s.sID,e),s._iO.serverURL&&s.unload()),s.instanceCount=0,s._iO={}),s},this.setAutoPlay=function(e){i._wD("sound "+s.sID+" turned autoplay "+(e?"on":"off")),s._iO.autoPlay=e,s.isHTML5||(i.o._setAutoPlay(s.sID,e),e&&!s.instanceCount&&s.readyState===1&&(s.instanceCount++,i._wD("sound "+s.sID+" incremented instance count to "+s.instanceCount)))},this.getAutoPlay=function(){return s._iO.autoPlay},this.setPosition=function(e){var t,n,r,o;e===undefined&&(e=0),o=s.isHTML5?Math.max(e,0):Math.min(s.duration||s._iO.duration,Math.max(e,0)),t=s.position,s.position=o,r=s.position/1e3,s.resetOnPosition(s.position),s._iO.position=o;if(!s.isHTML5)n=v===9?s.position:r,s.readyState&&s.readyState!==2&&i.o._setPosition(s.sID,n,s.paused||!s.playState);else if(s._a)if(s._html5_canplay){if(s._a.currentTime!==r){i._wD("setPosition("+r+"): setting position");try{s._a.currentTime=r,(s.playState===0||s.paused)&&s._a.pause()}catch(u){i._wD("setPosition("+r+"): setting position failed: "+u.message,2)}}}else i._wD("setPosition("+r+"): delaying, sound not ready");return s.isHTML5&&s.paused&&s._onTimer(!0),s},this.pause=function(e){return s.paused||s.playState===0&&s.readyState!==1?s:(i._wD("SMSound.pause()"),s.paused=!0,s.isHTML5?(s._setup_html5().pause(),n()):(e||e===undefined)&&i.o._pause(s.sID),s._iO.onpause&&s._iO.onpause.apply(s),s)},this.resume=function(){return s.paused?(i._wD("SMSound.resume()"),s.paused=!1,s.playState=1,s.isHTML5?(s._setup_html5().play(),r()):(s._iO.isMovieStar&&s.setPosition(s.position),i.o._pause(s.sID)),!s._onplay_called&&s._iO.onplay?(s._iO.onplay.apply(s),s._onplay_called=!0):s._iO.onresume&&s._iO.onresume.apply(s),s):s},this.togglePause=function(){return i._wD("SMSound.togglePause()"),s.playState===0?(s.play({position:v===9&&!s.isHTML5?s.position:s.position/1e3}),s):(s.paused?s.resume():s.pause(),s)},this.setPan=function(e,t){return typeof e=="undefined"&&(e=0),typeof t=="undefined"&&(t=!1),s.isHTML5||i.o._setPan(s.sID,e),s._iO.pan=e,t||(s.pan=e,s.options.pan=e),s},this.setVolume=function(e,t){return typeof e=="undefined"&&(e=100),typeof t=="undefined"&&(t=!1),s.isHTML5?s._a&&(s._a.volume=Math.max(0,Math.min(1,e/100))):i.o._setVolume(s.sID,i.muted&&!s.muted||s.muted?0:e),s._iO.volume=e,t||(s.volume=e,s.options.volume=e),s},this.mute=function(){return s.muted=!0,s.isHTML5?s._a&&(s._a.muted=!0):i.o._setVolume(s.sID,0),s},this.unmute=function(){var e;return s.muted=!1,e=typeof s._iO.volume!="undefined",s.isHTML5?s._a&&(s._a.muted=!1):i.o._setVolume(s.sID,e?s._iO.volume:s.options.volume),s},this.toggleMute=function(){return s.muted?s.unmute():s.mute()},this.onposition=function(e,t,n){return s._onPositionItems.push({position:e,method:t,scope:typeof n!="undefined"?n:s,fired:!1}),s},this.processOnPosition=function(){var e,t,n=s._onPositionItems.length;if(!n||!s.playState||s._onPositionFired>=n)return!1;for(e=n;e--;)t=s._onPositionItems[e],!t.fired&&s.position>=t.position&&(t.fired=!0,i._onPositionFired++,t.method.apply(t.scope,[t.position]));return!0},this.resetOnPosition=function(e){var t,n,r=s._onPositionItems.length;if(!r)return!1;for(t=r;t--;)n=s._onPositionItems[t],n.fired&&e<=n.position&&(n.fired=!1,i._onPositionFired--);return!0},r=function(){s.isHTML5&&ut(s)},n=function(){s.isHTML5&&at(s)},t=function(){s._onPositionItems=[],s._onPositionFired=0,s._hasTimer=null,s._onplay_called=!1,s._a=null,s._html5_canplay=!1,s.bytesLoaded=null,s.bytesTotal=null,s.position=null,s.duration=s._iO&&s._iO.duration?s._iO.duration:null,s.durationEstimate=null,s.failures=0,s.loaded=!1,s.playState=0,s.paused=!1,s.readyState=0,s.muted=!1,s.isBuffering=!1,s.instanceOptions={},s.instanceCount=0,s.peakData={left:0,right:0},s.waveformData={left:[],right:[]},s.eqData=[],s.eqData.left=[],s.eqData.right=[]},t(),this._onTimer=function(e){var t,n={};if(s._hasTimer||e)return s._a&&(e||(s.playState>0||s.readyState===1)&&!s.paused)?(s.duration=s._get_html5_duration(),s.durationEstimate=s.duration,t=s._a.currentTime?s._a.currentTime*1e3:0,s._whileplaying(t,n,n,n,n),!0):(i._wD('_onTimer: Warn for "'+s.sID+'": '+(s._a?"":"Could not find element. ")+(s.playState===0?"playState bad, 0?":"playState = "+s.playState+", OK")),!1)},this._get_html5_duration=function(){var e=s._a?s._a.duration*1e3:s._iO?s._iO.duration:undefined,t=e&&!isNaN(e)&&e!==Infinity?e:s._iO?s._iO.duration:null;return t},this._setup_html5=function(e){var n=k(s._iO,e),r=decodeURI,o=bt?i._global_a:s._a,u=r(n.url),a=o&&o._t?o._t.instanceOptions:null;if(o){if(o._t&&a.url===n.url&&(!s._lastURL||s._lastURL===a.url))return o;i._wD("setting new URL on existing object: "+u+(s._lastURL?", old URL: "+s._lastURL:"")),bt&&o._t&&o._t.playState&&n.url!==a.url&&o._t.stop(),t(),o.src=n.url,s.url=n.url,s._lastURL=n.url,o._called_load=!1}else i._wD("creating HTML5 Audio() element with URL: "+u),o=new Audio(n.url),o._called_load=!1,bt&&(i._global_a=o);return s.isHTML5=!0,s._a=o,o._t=s,s._add_html5_events(),o.loop=n.loops>1?"loop":"",n.autoLoad||n.autoPlay?(o.autobuffer="auto",o.preload="auto",s.load(),o._called_load=!0):(o.autobuffer=!1,o.preload="none"),o.loop=n.loops>1?"loop":"",o},this._add_html5_events=function(){function t(e,t,n){return s._a?s._a.addEventListener(e,t,n||!1):null}var e;if(s._a._added_events)return!1;i._wD(u+"adding event listeners: "+s.sID),s._a._added_events=!0;for(e in xt)xt.hasOwnProperty(e)&&t(e,xt[e]);return!0},this._remove_html5_events=function(){function t(e,t,n){return s._a?s._a.removeEventListener(e,t,n||!1):null}var e;i._wD(u+"removing event listeners: "+s.sID),s._a._added_events=!1;for(e in xt)xt.hasOwnProperty(e)&&t(e,xt[e])},this._onload=function(e){var t="SMSound._onload(): ",n=!!e;return i._wD(t+'"'+s.sID+'"'+(n?" loaded.":" failed to load? - "+s.url),n?1:2),!n&&!s.isHTML5&&(i.sandbox.noRemote===!0&&i._wD(t+G("noNet"),1),i.sandbox.noLocal===!0&&i._wD(t+G("noLocal"),1)),s.loaded=n,s.readyState=n?3:2,s._onbufferchange(0),s._iO.onload&&s._iO.onload.apply(s,[n]),!0},this._onbufferchange=function(e){var t="SMSound._onbufferchange()";return s.playState===0?!1:e&&s.isBuffering||!e&&!s.isBuffering?!1:(s.isBuffering=e===1,s._iO.onbufferchange&&(i._wD(t+": "+e),s._iO.onbufferchange.apply(s)),!0)},this._onfailure=function(e,t,n){s.failures++,i._wD('SMSound._onfailure(): "'+s.sID+'" count '+s.failures),s._iO.onfailure&&s.failures===1?s._iO.onfailure(s,e,t,n):i._wD("SMSound._onfailure(): ignoring")},this._onfinish=function(){var e=s._iO.onfinish;s._onbufferchange(0),s.resetOnPosition(0),s.instanceCount&&(s.instanceCount--,s.instanceCount||(s.playState=0,s.paused=!1,s.instanceCount=0,s.instanceOptions={},s._iO={},n()),(!s.instanceCount||s._iO.multiShotEvents)&&e&&(i._wD('SMSound._onfinish(): "'+s.sID+'"'),e.apply(s)))},this._whileloading=function(e,t,n,r){s.bytesLoaded=e,s.bytesTotal=t,s.duration=Math.floor(n),s.bufferLength=r,s._iO.isMovieStar?(s.durationEstimate=s.duration,s.readyState!==3&&s._iO.whileloading&&s._iO.whileloading.apply(s)):(s._iO.duration?s.durationEstimate=s.duration>s._iO.duration?s.duration:s._iO.duration:s.durationEstimate=parseInt(s.bytesTotal/s.bytesLoaded*s.duration,10),s.durationEstimate===undefined&&(s.durationEstimate=s.duration),s.readyState!==3&&s._iO.whileloading&&s._iO.whileloading.apply(s))},this._whileplaying=function(e,t,n,r,i){var o;return isNaN(e)||e===null?!1:(s.position=e,s.processOnPosition(),!s.isHTML5&&v>8&&(s._iO.usePeakData&&typeof t!="undefined"&&t&&(s.peakData={left:t.leftPeak,right:t.rightPeak}),s._iO.useWaveformData&&typeof n!="undefined"&&n&&(s.waveformData={left:n.split(","),right:r.split(",")}),s._iO.useEQData&&typeof i!="undefined"&&i&&i.leftEQ&&(o=i.leftEQ.split(","),s.eqData=o,s.eqData.left=o,typeof i.rightEQ!="undefined"&&i.rightEQ&&(s.eqData.right=i.rightEQ.split(",")))),s.playState===1&&(!s.isHTML5&&v===8&&!s.position&&s.isBuffering&&s._onbufferchange(0),s._iO.whileplaying&&s._iO.whileplaying.apply(s)),!0)},this._onid3=function(e,t){var n,r,o;i._wD('SMSound._onid3(): "'+this.sID+'" ID3 data received.'),n=[];for(r=0,o=e.length;r<o;r++)n[e[r]]=t[r];s.id3=k(s.id3,n),s._iO.onid3&&s._iO.onid3.apply(s)},this._onconnect=function(e){var t="SMSound._onconnect(): ";e=e===1,i._wD(t+'"'+s.sID+'"'+(e?" connected.":" failed to connect? - "+s.url),e?1:2),s.connected=e,e&&(s.failures=0,it(s.sID)&&(s.getAutoPlay()?s.play(undefined,s.getAutoPlay()):s._iO.autoLoad&&s.load()),s._iO.onconnect&&s._iO.onconnect.apply(s,[e]))},this._ondataerror=function(e){s.playState>0&&(i._wD("SMSound._ondataerror(): "+e),s._iO.ondataerror&&s._iO.ondataerror.apply(s))}},I=function(){return h.body||h._docElement||h.getElementsByTagName("div")[0]},a=function(e){return h.getElementById(e)},k=function(e,t){var n,r,s,o={};for(n in e)e.hasOwnProperty(n)&&(o[n]=e[n]);r=typeof t=="undefined"?i.defaultOptions:t;for(s in r)r.hasOwnProperty(s)&&typeof o[s]=="undefined"&&(o[s]=r[s]);return o},gt=function(){function n(t){var n=yt.call(t),r=n.length;return e?(n[1]="on"+n[1],r>3&&n.pop()):r===3&&n.push(!1),n}function r(n,r){var i=n.shift(),s=[t[r]];e?i[s](n[0],n[1]):i[s].apply(i,n)}function i(){r(n(arguments),"add")}function s(){r(n(arguments),"remove")}var e=l.attachEvent,t={add:e?"attachEvent":"addEventListener",remove:e?"detachEvent":"removeEventListener"};return{add:i,remove:s}}(),xt={abort:zt(function(){i._wD(u+"abort: "+this._t.sID)}),canplay:zt(function(){var e;if(this._t._html5_canplay)return!0;this._t._html5_canplay=!0,i._wD(u+"canplay: "+this._t.sID+", "+this._t.url),this._t._onbufferchange(0),e=isNaN(this._t.position)?null:this._t.position/1e3;if(this._t.position&&this.currentTime!==e){i._wD(u+"canplay: setting position to "+e);try{this.currentTime=e}catch(t){i._wD(u+"setting position failed: "+t.message,2)}}}),load:zt(function(){this._t.loaded||(this._t._onbufferchange(0),this._t._whileloading(this._t.bytesTotal,this._t.bytesTotal,this._t._get_html5_duration()),this._t._onload(!0))}),emptied:zt(function(){i._wD(u+"emptied: "+this._t.sID)}),ended:zt(function(){i._wD(u+"ended: "+this._t.sID),this._t._onfinish()}),error:zt(function(){i._wD(u+"error: "+this.error.code),this._t._onload(!1)}),loadeddata:zt(function(){var e=this._t,t=e.bytesTotal||1;i._wD(u+"loadeddata: "+this._t.sID),!e._loaded&&!At&&(e.duration=e._get_html5_duration(),e._whileloading(t,t,e._get_html5_duration()),e._onload(!0))}),loadedmetadata:zt(function(){i._wD(u+"loadedmetadata: "+this._t.sID)}),loadstart:zt(function(){i._wD(u+"loadstart: "+this._t.sID),this._t._onbufferchange(1)}),play:zt(function(){i._wD(u+"play: "+this._t.sID+", "+this._t.url),this._t._onbufferchange(0)}),playing:zt(function(){i._wD(u+"playing: "+this._t.sID+", "+this._t.url),this._t._onbufferchange(0)}),progress:zt(function(e){var t,n,r,s,o,a,f,l;if(this._t.loaded)return!1;s=0,o=e.type==="progress",a=e.target.buffered,f=e.loaded||0,l=e.total||1;if(a&&a.length){for(t=a.length;t--;)s=a.end(t)-a.start(t);f=s/e.target.duration;if(o&&a.length>1){r=[],n=a.length;for(t=0;t<n;t++)r.push(e.target.buffered.start(t)+"-"+e.target.buffered.end(t));i._wD(u+"progress: timeRanges: "+r.join(", "))}o&&!isNaN(f)&&i._wD(u+"progress: "+this._t.sID+": "+Math.floor(f*100)+"% loaded")}isNaN(f)||(this._t._onbufferchange(0),this._t._whileloading(f,l,this._t._get_html5_duration()),f&&l&&f===l&&xt.load.call(this,e))}),ratechange:zt(function(){i._wD(u+"ratechange: "+this._t.sID)}),suspend:zt(function(e){i._wD(u+"suspend: "+this._t.sID),xt.progress.call(this,e)}),stalled:zt(function(){i._wD(u+"stalled: "+this._t.sID)}),timeupdate:zt(function(){this._t._onTimer()}),waiting:zt(function(){i._wD(u+"waiting: "+this._t.sID),this._t._onbufferchange(1)})},ct=function(e){return!e.serverURL&&(e.type?ht({type:e.type}):ht({url:e.url})||i.html5Only)},dt=function(e){e&&(e.src=f.match(/gecko/i)?"":jt)},ht=function(e){function f(e){return i.preferFlash&&wt&&!i.ignoreFlash&&typeof i.flash[e]!="undefined"&&i.flash[e]}var t,n,r,s,o,u,a;if(!i.useHTML5Audio||!i.hasHTML5)return!1;t=e.url||null,n=e.type||null,r=i.audioFormats;if(n&&i.html5[n]!=="undefined")return i.html5[n]&&!f(n);if(!pt){pt=[];for(a in r)r.hasOwnProperty(a)&&(pt.push(a),r[a].related&&(pt=pt.concat(r[a].related)));pt=RegExp("\\.("+pt.join("|")+")(\\?.*)?$","i")}u=t?t.toLowerCase().match(pt):null;if(!u||!u.length){if(!n)return!1;o=n.indexOf(";"),u=(o!==-1?n.substr(0,o):n).substr(6)}else u=u[1];return u&&typeof i.html5[u]!="undefined"?i.html5[u]&&!f(u):(n="audio/"+u,s=i.html5.canPlayType({type:n}),i.html5[u]=s,s&&i.html5[n]&&!f(n))},mt=function(){function o(t){var n,r,s,o=!1;if(!e||typeof e.canPlayType!="function")return!1;if(t instanceof Array){for(r=0,s=t.length;r<s&&!o;r++)if(i.html5[t[r]]||e.canPlayType(t[r]).match(i.html5Test))o=!0,i.html5[t[r]]=!0,i.flash[t[r]]=!!(i.preferFlash&&wt&&t[r].match(Bt));return o}return n=e&&typeof e.canPlayType=="function"?e.canPlayType(t):!1,!!n&&!!n.match(i.html5Test)}var e,t,n,r,s;if(!i.useHTML5Audio||typeof Audio=="undefined")return!1;e=typeof Audio!="undefined"?Ot?new Audio(null):new Audio:null,n={},r=i.audioFormats;for(t in r)if(r.hasOwnProperty(t)){n[t]=o(r[t].type),n["audio/"+t]=n[t],i.preferFlash&&!i.ignoreFlash&&t.match(Bt)?i.flash[t]=!0:i.flash[t]=!1;if(r[t]&&r[t].related)for(s=r[t].related.length;s--;)n["audio/"+r[t].related[s]]=n[t],i.html5[r[t].related[s]]=n[t],i.flash[r[t].related[s]]=n[t]}return n.canPlayType=e?o:null,i.html5=k(i.html5,n),!0},H={notReady:"Not loaded yet - wait for soundManager.onload()/onready()",notOK:"Audio support is not available.",domError:o+"createMovie(): appendChild/innerHTML call failed. DOM not ready or other error.",spcWmode:o+"createMovie(): Removing wmode, preventing known SWF loading issue(s)",swf404:s+": Verify that %s is a valid path.",tryDebug:"Try "+s+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:s+": Non-HTTP page ("+h.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:s+": Special case: Waiting for focus-related event..",waitImpatient:s+": Getting impatient, still waiting for Flash%s...",waitForever:s+": Waiting indefinitely for Flash (will recover if unblocked)...",needFunction:s+": Function object expected for %s",badID:'Warning: Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:"--- "+s+"._debug(): Current sound objects ---",waitEI:o+"initMovie(): Waiting for ExternalInterface call from Flash..",waitOnload:s+": Waiting for window.onload()",docLoaded:s+": Document already loaded",onload:o+"initComplete(): calling soundManager.onload()",onloadOK:s+".onload() complete",init:o+"init()",didInit:o+"init(): Already called?",flashJS:s+": Attempting to call Flash from JS..",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:"Warning: Failed to remove flash movie.",noPeak:"Warning: peakData features unsupported for movieStar formats",shutdown:s+".disable(): Shutting down",queue:s+": Queueing %s handler",smFail:s+": Failed to initialise.",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+i.swfCSS.swfTimedout+" CSS..",fbLoaded:"Flash loaded",fbHandler:o+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:s+".load(): current URL already assigned.",badFV:s+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",mfOn:"mobileFlash::enabling on-screen flash repositioning",policy:"Enabling usePolicyFile for data access"},G=function(){var e,t,n=yt.call(arguments),r=n.shift(),i=H&&H[r]?H[r]:"";if(i&&n&&n.length)for(e=0,t=n.length;e<t;e++)i=i.replace("%s",n[e]);return i},tt=function(e){return v===8&&e.loops>1&&e.stream&&(T("as2loop"),e.stream=!1),e},nt=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(i._wD((t||"")+G("policy")),e.usePolicyFile=!0),e},rt=function(e){typeof console!="undefined"&&typeof console.warn!="undefined"?console.warn(e):i._wD(e)},p=function(){return!1},V=function(e){var t;for(t in e)e.hasOwnProperty(t)&&typeof e[t]=="function"&&(e[t]=p);t=null},$=function(e){typeof e=="undefined"&&(e=!1);if(S||e)T("smFail",2),i.disable(e)},J=function(){return"index.php?extern=libs/eyeSound/"+i.movieURL},D=function(){var e;v=parseInt(i.flashVersion,10),v!==8&&v!==9&&(i._wD(G("badFV",v,X)),i.flashVersion=v=X),e=i.debugMode||i.debugFlash?"_debug.swf":".swf",i.useHTML5Audio&&!i.html5Only&&i.audioFormats.mp4.required&&v<9&&(i._wD(G("needfl9")),i.flashVersion=v=9),i.version=i.versionNumber+(i.html5Only?" (HTML5-only mode)":v===9?" (AS3/Flash 9)":" (AS2/Flash 8)"),v>8?(i.defaultOptions=k(i.defaultOptions,i.flash9Options),i.features.buffering=!0,i.defaultOptions=k(i.defaultOptions,i.movieStarOptions),i.filePatterns.flash9=RegExp("\\.(mp3|"+Rt.join("|")+")(\\?.*)?$","i"),i.features.movieStar=!0):i.features.movieStar=!1,i.filePattern=i.filePatterns[v!==8?"flash9":"flash8"],i.movieURL=(v===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),i.features.peakData=i.features.waveformData=i.features.eqData=v>8},U=function(e,t){if(!i.o)return!1;i.o._setPolling(e,t)},z=function(){var e,t,n,r,s;i.debugURLParam.test(c)&&(i.debugMode=!0);if(a(i.debugID))return!1;if(i.debugMode&&!a(i.debugID)&&(!_t||!i.useConsole||i.useConsole&&_t&&!i.consoleOnly)){e=h.createElement("div"),e.id=i.debugID+"-toggle",r={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},e.appendChild(h.createTextNode("-")),e.onclick=et,e.title="Toggle SM2 debug console",f.match(/msie 6/i)&&(e.style.position="absolute",e.style.cursor="hand");for(s in r)r.hasOwnProperty(s)&&(e.style[s]=r[s]);t=h.createElement("div"),t.id=i.debugID,t.style.display=i.debugMode?"block":"none";if(i.debugMode&&!a(e.id)){try{n=I(),n.
appendChild(e)}catch(o){throw Error(G("domError")+" \n"+(o+""))}n.appendChild(t)}}n=null},it=this.getSoundById,T=function(e,t){return e?i._wD(G(e),t):""},c.indexOf("sm2-debug=alert")+1&&i.debugMode&&(i._wD=function(t){e.alert(t)}),et=function(){var e=a(i.debugID),t=a(i.debugID+"-toggle");if(!e)return!1;g?(t.innerHTML="+",e.style.display="none"):(t.innerHTML="-",e.style.display="block"),g=!g},y=function(e,t,n){if(typeof sm2Debugger!="undefined")try{sm2Debugger.handleEvent(e,t,n)}catch(r){}return!0},Z=function(){var e=[];return i.debugMode&&e.push(i.swfCSS.sm2Debug),i.debugFlash&&e.push(i.swfCSS.flashDebug),i.useHighPerformance&&e.push(i.swfCSS.highPerf),e.join(" ")},Y=function(){var e=G("fbHandler"),t=i.getMoviePercent(),n=i.swfCSS,r={type:"FLASHBLOCK"};if(i.html5Only)return!1;i.ok()?(i.didFlashBlock&&i._wD(e+": Unblocked"),i.oMC&&(i.oMC.className=[Z(),n.swfDefault,n.swfLoaded+(i.didFlashBlock?" "+n.swfUnblocked:"")].join(" "))):(ft&&(i.oMC.className=Z()+" "+n.swfDefault+" "+(t===null?n.swfTimedout:n.swfError),i._wD(e+": "+G("fbTimeout")+(t?" ("+G("fbLoaded")+")":""))),i.didFlashBlock=!0,A({type:"ontimeout",ignoreInit:!0,error:r}),R(r))},L=function(e,t,n){typeof m[e]=="undefined"&&(m[e]=[]),m[e].push({method:t,scope:n||null,fired:!1})},A=function(e){var t,n,r,o,u,a,f;e||(e={type:"onready"});if(!E&&e&&!e.ignoreInit)return!1;if(e.type==="ontimeout"&&i.ok())return!1;t={success:e&&e.ignoreInit?i.ok():!S},n=e&&e.type?m[e.type]||[]:[],r=[],a=[t],f=ft&&i.useFlashBlock&&!i.ok(),e.error&&(a[0].error=e.error);for(o=0,u=n.length;o<u;o++)n[o].fired!==!0&&r.push(n[o]);if(r.length){i._wD(s+": Firing "+r.length+" "+e.type+"() item"+(r.length===1?"":"s"));for(o=0,u=r.length;o<u;o++)r[o].scope?r[o].method.apply(r[o].scope,a):r[o].method.apply(this,a),f||(r[o].fired=!0)}return!0},O=function(){l.setTimeout(function(){i.useFlashBlock&&Y(),A(),i.onload instanceof Function&&(T("onload",1),i.onload.apply(l),T("onloadOK",1)),i.waitForWindowLoad&&gt.add(l,"load",O)},1)},Et=function(){var e,t,n,r,i,s,o;if(wt!==undefined)return wt;e=!1,t=navigator,n=t.plugins,o=l.ActiveXObject;if(n&&n.length)i="application/x-shockwave-flash",s=t.mimeTypes,s&&s[i]&&s[i].enabledPlugin&&s[i].enabledPlugin.description&&(e=!0);else if(typeof o!="undefined"){try{r=new o("ShockwaveFlash.ShockwaveFlash")}catch(u){}e=!!r}return wt=e,e},lt=function(){var e,t,n=Nt&&!!f.match(/os (1|2|3_0|3_1)/i);if(n)return i.hasHTML5=!1,i.html5Only=!0,i.oMC&&(i.oMC.style.display="none"),!1;if(!i.useHTML5Audio)return!0;if(!i.html5||!i.html5.canPlayType)return i._wD("SoundManager: No HTML5 Audio() support detected."),i.hasHTML5=!1,!0;i.hasHTML5=!0;if(Mt){i._wD(o+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(wt?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1);if(Et())return!0}for(t in i.audioFormats)i.audioFormats.hasOwnProperty(t)&&(i.audioFormats[t].required&&!i.html5.canPlayType(i.audioFormats[t].type)||i.flash[t]||i.flash[i.audioFormats[t].type])&&(e=!0);return i.ignoreFlash&&(e=!1),i.html5Only=i.hasHTML5&&i.useHTML5Audio&&!e,!i.html5Only},ut=function(e){e._hasTimer||(e._hasTimer=!0)},at=function(e){e._hasTimer&&(e._hasTimer=!1)},R=function(e){e=typeof e!="undefined"?e:{},i.onerror instanceof Function&&i.onerror.apply(l,[{type:typeof e.type!="undefined"?e.type:null}]),typeof e.fatal!="undefined"&&e.fatal&&i.disable()},St=function(){var e,t,n;if(!Mt||!Et())return!1;e=i.audioFormats;for(n in e)if(e.hasOwnProperty(n))if(n==="mp3"||n==="mp4"){i._wD(s+": Using flash fallback for "+n+" format"),i.html5[n]=!1;if(e[n]&&e[n].related)for(t=e[n].related.length;t--;)i.html5[e[n].related[t]]=!1}},this._setSandboxType=function(e){var t=i.sandbox;t.type=e,t.description=t.types[typeof t.types[e]!="undefined"?e:"unknown"],i._wD("Flash security sandbox type: "+t.type),t.type==="localWithFile"?(t.noRemote=!0,t.noLocal=!1,T("secNote",2)):t.type==="localWithNetwork"?(t.noRemote=!1,t.noLocal=!0):t.type==="localTrusted"&&(t.noRemote=!1,t.noLocal=!1)},this._externalInterfaceOK=function(e){var t;if(i.swfLoaded)return!1;t=(new Date).getTime(),i._wD(o+"externalInterfaceOK()"+(e?" (~"+(t-e)+" ms)":"")),y("swf",!0),y("flashtojs",!0),i.swfLoaded=!0,Pt=!1,Mt&&St(),kt?setTimeout(d,100):d()},q=function(e,t){function k(){i._wD("-- SoundManager 2 "+i.version+(!i.html5Only&&i.useHTML5Audio?i.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"")+(i.html5Only?"":(i.useHighPerformance?", high performance mode, ":", ")+((i.flashPollingInterval?"custom ("+i.flashPollingInterval+"ms)":"normal")+" polling")+(i.wmode?", wmode: "+i.wmode:"")+(i.debugFlash?", flash debug mode":"")+(i.useFlashBlock?", flashBlock mode":""))+" --",1)}function L(e,t){return'<param name="'+e+'" value="'+t+'" />'}var n,r,s,u,l,c,p,v,m,g,y,E,S,x,N,C;if(b&&w)return!1;if(i.html5Only)return D(),k(),i.oMC=a(i.movieID),d(),b=!0,w=!0,!1;n=t||i.url,r=i.altURL||n,s="JS/Flash audio component (SoundManager 2)",c=I(),g=Z(),x="auto",N=null,C=h.getElementsByTagName("html")[0],N=C&&C.dir&&C.dir.match(/rtl/i),e=typeof e=="undefined"?i.id:e,D(),i.url=J(Ft?n:r),t=i.url,i.wmode=!i.wmode&&i.useHighPerformance?"transparent":i.wmode,i.wmode!==null&&(f.match(/msie 8/i)||!kt&&!i.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(i.specialWmodeCase=!0,T("spcWmode"),i.wmode=null),u={name:e,id:e,src:t,width:x,height:x,quality:"high",allowScriptAccess:i.allowScriptAccess,bgcolor:i.bgColor,pluginspage:It+"www.macromedia.com/go/getflashplayer",title:s,type:"application/x-shockwave-flash",wmode:i.wmode,hasPriority:"true"},i.debugFlash&&(u.FlashVars="debug=1"),i.wmode||delete u.wmode;if(kt)l=h.createElement("div"),v=['<object id="'+e+'" data="'+t+'" type="'+u.type+'" title="'+u.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+It+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0" width="'+u.width+'" height="'+u.height+'">',L("movie",t),L("AllowScriptAccess",i.allowScriptAccess),L("quality",u.quality),i.wmode?L("wmode",i.wmode):"",L("bgcolor",i.bgColor),L("hasPriority","true"),i.debugFlash?L("FlashVars",u.FlashVars):"","</object>"].join("");else{l=h.createElement("embed");for(p in u)u.hasOwnProperty(p)&&l.setAttribute(p,u[p])}z(),g=Z(),c=I();if(c){i.oMC=a(i.movieID)||h.createElement("div");if(!i.oMC.id){i.oMC.id=i.movieID,i.oMC.className=i.swfCSS.swfDefault+" "+g,y=null,m=null,i.useFlashBlock||(i.useHighPerformance?y={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(y={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},N&&(y.left=Math.abs(parseInt(y.left,10))+"px"))),Lt&&(i.oMC.style.zIndex=1e4);if(!i.debugFlash)for(E in y)y.hasOwnProperty(E)&&(i.oMC.style[E]=y[E]);try{kt||i.oMC.appendChild(l),c.appendChild(i.oMC),kt&&(m=i.oMC.appendChild(h.createElement("div")),m.className=i.swfCSS.swfBox,m.innerHTML=v),w=!0}catch(A){throw Error(G("domError")+" \n"+(A+""))}}else S=i.oMC.className,i.oMC.className=(S?S+" ":i.swfCSS.swfDefault)+(g?" "+g:""),i.oMC.appendChild(l),kt&&(m=i.oMC.appendChild(h.createElement("div")),m.className=i.swfCSS.swfBox,m.innerHTML=v),w=!0}return b=!0,k(),i._wD(o+"createMovie(): Trying to load "+t+(!Ft&&i.altURL?" (alternate URL)":""),1),!0},B=function(){return i.html5Only?(q(),!1):i.o?!1:(i.o=i.getMovie(i.id),i.o||(K?(kt?i.oMC.innerHTML=Q:i.oMC.appendChild(K),K=null,b=!0):q(i.id,i.url),i.o=i.getMovie(i.id)),i.o&&T("waitEI"),i.oninitmovie instanceof Function&&setTimeout(i.oninitmovie,1),!0)},M=function(){setTimeout(_,1e3)},_=function(){var e;if(st)return!1;st=!0,gt.remove(l,"load",M);if(Pt&&!Dt)return T("waitFocus"),!1;E||(e=i.getMoviePercent(),i._wD(G("waitImpatient",e===100?" (SWF loaded)":e>0?" (SWF "+e+"% loaded)":""))),setTimeout(function(){e=i.getMoviePercent(),E||(i._wD(s+": No Flash response within expected time.\nLikely causes: "+(e===0?"Loading "+i.movieURL+" may have failed (and/or Flash "+v+"+ not present?), ":"")+"Flash blocked or JS-Flash security error."+(i.debugFlash?" "+G("checkSWF"):""),2),!Ft&&e&&(T("localFail",2),i.debugFlash||T("tryDebug",2)),e===0&&i._wD(G("swf404",i.url)),y("flashtojs",!1,": Timed out"+Ft?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)")),!E&&Ht&&(e===null?i.useFlashBlock||i.flashLoadTimeout===0?(i.useFlashBlock&&Y(),T("waitForever")):$(!0):i.flashLoadTimeout===0?T("waitForever"):$(!0))},i.flashLoadTimeout)},P=function(){function e(){gt.remove(l,"focus",P),gt.remove(l,"load",P)}return Dt||!Pt?(e(),!0):(Ht=!0,Dt=!0,i._wD(o+"handleFocus()"),At&&Pt&&gt.remove(l,"mousemove",P),st=!1,e(),!0)},Tt=function(){var e,t=[];if(i.useHTML5Audio&&i.hasHTML5){for(e in i.audioFormats)i.audioFormats.hasOwnProperty(e)&&t.push(e+": "+i.html5[e]+(!i.html5[e]&&wt&&i.flash[e]?" (using flash)":i.preferFlash&&i.flash[e]&&wt?" (preferring flash)":i.html5[e]?"":" ("+(i.audioFormats[e].required?"required, ":"")+"and no flash support)"));i._wD("-- SoundManager 2: HTML5 support tests ("+i.html5Test+"): "+t.join(", ")+" --",1)}},C=function(e){var t,n;return E?!1:i.html5Only?(i._wD("-- SoundManager 2: loaded --"),E=!0,O(),y("onload",!0),!0):(t=i.useFlashBlock&&i.flashLoadTimeout&&!i.getMoviePercent(),t||(E=!0,S&&(n={type:!wt&&ft?"NO_FLASH":"INIT_TIMEOUT"})),i._wD("-- SoundManager 2 "+(S?"failed to load":"loaded")+" ("+(S?"security/load error":"OK")+") --",1),S||e?(i.useFlashBlock&&i.oMC&&(i.oMC.className=Z()+" "+(i.getMoviePercent()===null?i.swfCSS.swfTimedout:i.swfCSS.swfError)),A({type:"ontimeout",error:n}),y("onload",!1),R(n),!1):(y("onload",!0),i.waitForWindowLoad&&!x?(T("waitOnload"),gt.add(l,"load",O),!1):(i.waitForWindowLoad&&x&&T("docLoaded"),O(),!0)))},d=function(){function e(){gt.remove(l,"load",i.beginDelayedInit)}T("init");if(E)return T("didInit"),!1;if(i.html5Only)return E||(e(),i.enabled=!0,C()),!0;B();try{T("flashJS"),i.o._externalInterfaceTest(!1),U(!0,i.flashPollingInterval||(i.useHighPerformance?10:50)),i.debugMode||i.o._disableDebug(),i.enabled=!0,y("jstoflash",!0),i.html5Only||gt.add(l,"unload",p)}catch(t){return i._wD("js/flash exception: "+(t+"")),y("jstoflash",!1),R({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),$(!0),C(),!1}return C(),e(),!0},j=function(){return F?!1:(F=!0,z(),function(){var e="sm2-usehtml5audio=",t=c.toLowerCase(),n=null,r="sm2-preferflash=",s=null,o=typeof console!="undefined"&&typeof console.log!="undefined";t.indexOf(e)!==-1&&(n=t.charAt(t.indexOf(e)+e.length)==="1",o&&console.log((n?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),i.useHTML5Audio=n),t.indexOf(r)!==-1&&(s=t.charAt(t.indexOf(r)+r.length)==="1",o&&console.log((s?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),i.preferFlash=s)}(),!wt&&i.hasHTML5&&(i._wD("SoundManager: No Flash detected"+(i.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5.")),i.useHTML5Audio=!0,i.preferFlash=!1),mt(),i.html5.usingFlash=lt(),ft=i.html5.usingFlash,Tt(),!wt&&ft&&(i._wD("SoundManager: Fatal error: Flash is needed to play some required formats, but is not available."),i.flashLoadTimeout=1),h.removeEventListener&&h.removeEventListener("DOMContentLoaded",j,!1),B(),!0)},vt=function(){return h.readyState==="complete"&&(j(),h.detachEvent("onreadystatechange",vt)),!0},Et(),gt.add(l,"focus",P),gt.add(l,"load",P),gt.add(l,"load",M),At&&Pt&&gt.add(l,"mousemove",P),h.addEventListener?h.addEventListener("DOMContentLoaded",j,!1):h.attachEvent?h.attachEvent("onreadystatechange",vt):(y("onload",!1),R({type:"NO_DOM2_EVENTS",fatal:!0})),h.readyState==="complete"&&setTimeout(j,100)}var t=null;if(typeof SM2_DEFER=="undefined"||!SM2_DEFER)t=new n;e.SoundManager=n,e.soundManager=t})(window);